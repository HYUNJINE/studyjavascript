# 값

## 2.1 배열

js 배열은 타입이 엄격한 다른 언어와달리 문자열, 숫자,객체 심지어 다른배열이나 어떤 타입의 값이라도 담을 수 있는 그릇이다.

배열 크기를 미리 정하지 않고도 선언할 수 있으며 원하는 값을 추가하면 된다.

배열 값에 delete연산자를 적용하면 슬롯을 제거할 수 있지만 마지막 원소까지 제거해도 length 프로퍼티 값까지 바뀌지 않는다는 것을 주의하자.


```js
let a = [];
a[0] = 1
a[2] = 3

a[1] ; // undefined

a.length; //3 
```

실행은 되지만 이러한 코드에서 주간에 건너뛴 빈슬롯은 혼란을 부추길 수 있다. a[1]슬롯값은 응당 undefined가 될 것 같지만 명시적으로 a[1]= undefined 세팅한 것과 똑같지는 않다.

배열 인덱스는 숫자인데 배열 자체도 하나의 객체여서 키 프로퍼티 문자열을 추가할 수 있다.
하지만 배열 length 가 증가하지 않는다는 점이 다소 까다롭다.

```js

var a = [];

a[0] = 1;

a["foobar"] = 2;
a.length; // 1
a["foobar"];  // 2

a.foobar //2
```


그런데 키로 넣은 문자열 값이 표준 10진수 숫자로 타입이 바뀌면, 마치 문자열 키가 아닌 숫자키를 사용한 것과같은 결과가 초래된다는 점은 정말 주의해야하는 함정이다.
```js
var a = [];
a['13'] = 42;

a.length;  // 14

```

일반적으로 배열에 문자열 타입의 키/프로퍼티를 두는 것은 추천하지 않는다. 그렇게 해야한다면 객체를 대용하고 배열 원소의 인덱스는 확실히 숫자만 쓰자.

### 2.1.1 유사 배열

유사 배열을 진짜 배열로 바꾸고싶을 때가 있다. 이럴 때는 배열 유틸리티 함수를   사용하여 해결하는 것이 일반적이다. 예를 들어 DOM 쿼리 작업을 수행하면 비록 배열은 아니지만 변환 용도로 충분한 유사배열 형태의 DOM원소 리스트가반환된다. 다른 예로 함수에서 arguments객체를 사용하여 인자를 리스트로 가져오는 것도 마찬가지이다. 
이러한 변환은  slice 함수의 기능을 차용하는 방법을 가장 많이 쓴다.

```js
function foo() {
    var arr = Array.prototype.slice.call(arguments);
    arr.push("bam")
    console.log(arr);
}

foo("bar" , "baz") // ["bar", "baz", "bam"]
```

예제 코드에서 알 수 있듯이  slice 함수에 인자가 없으면 기본 인자값으로 구성된 배열을 복사한다.

ES6부터는 Array.from() 이 이일을 대신한다.

```js
var arr = Array.from(arguments)
```

## 2.2 문자열

흔히 문자열은 단지 문자의 배열이라고 생각한다. 엔진이 내부적으로 배열을 쓰도록 구현되어있는지는 모르지만 자바스크립트 문자열은 실제로 생김새만 비슷할 뿐 문자 배열과 같지 않다는 사실을 알아야한다.

문자열은 배열과 겉모습이 닮았다. 
문자열은 불변값이지만 배열은 가변 값이다. a[1] 처럼 문자열의 특정문자를 접근하는 형태가 모든 자바스크립트 엔진에서 유효한 것은 아니다. 실제로 인터넷 익스플로러 구버전은 이를 문법 에러로 인식한다. a.charAt(1)으로 접근해야 맞다.

한가지더, 문자열은 불변값이므로 문자열 메서드는 그 내용을 바로 변경하지 않고 항상 새로운 문자열을 생성한 후 반환한다. 문자열은 불변값이므로 문자열 메서드는 그 내용을 바로 변경하지 않고 항상 새로운 문자열을 생성한 후 반환한다. 반면에 대부분의 배열 메서드는 그 자리에서 곧바로 원소를 수정한다.

그리고 문자열을 다룰 때 유용한 대부분의 메서드는 사실상 문자열에 쓸 수 없지만, 문자열에 대해 불변 배열 메서드를 빌려 쓸 수 는 있다.

배열에는 reverse()라는 가변 메서드가 준비되어있지만 문자열은 그렇지 않다.불행히도 문자열은 불변값이라 바로 변경되지 않으므로 배열의  가변 메서드는 통하지 않고 그래서 빌려쓰는 것 또한 안된다.

a.split("").reverse().join('')

문자열 자체에 어떤 작업을 빈번하게 수행하는 경우라면 관점을 달리하여 문자열을 문자단위로 저장하는 배열로 취급하는 것이 더 나을 수도 있다. 

## 2.3 숫자

자바스크립트의 숫자 타입은 number가 유일하며 정수, 부동소수점 숫자를 모두 아우른다. 모든 숫자를 number타입 하나로만 표기한다.
사실상 모든 스크립트 언어를 통틀어 대부분 현대 프로그래밍 언어는 IEEE 754 표준을 따른다. 자바스크립트 number도  IEEE 754 표준을 따르며, 그중에서도 정확히는 배정도 표준 포맷을 사용한다.

웹서핑을 하다보면 이진 부동 소수점 숫자가 메모리에 저장되는 방식과 그렇게 설계된 의미는 무엇인지 시시콜콜 자세히 설명한 좋은자료가많다. 

```js

var a = 0.42;
var b = .42
// 소수점 앞 정수가 0이면 생략가능ㅋ

소수점 이하가 0일때도 생략가능

var c = 42.0;
var d = 42.;

var a = 5E10;
a; //500000000000
a.toExponentail() ; // "5e+10"

//숫자 값은 Number 객체 래퍼로 박싱할 수 있기 때문에 Number.prototype 메서드로 접근할 수 도있다.

var a  =42.59;

a.toPrecision(1); 
a.toPrecision(2); //43
a.toPrecision(3); // 42.5
```

숫자 리터럴에서 바로 접근할 수 있으므로 굳이 변수를 만들어 할당하지 않아도 된다. 하지만 소수점일 경우엔 프로퍼티 접근자가 아닌 리터럴의 일부로 해석되므로 .연산자를 사용할 때 주의하자.

