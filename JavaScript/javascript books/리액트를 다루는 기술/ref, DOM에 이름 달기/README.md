# ref
HTML에서  id를 사용하여 DOM에 이름을 다는 것처럼 리액트 프로젝트 내부에서 DOM에 이름을 다는 방법이 있다. 바로ref개념이다. reference의 줄임말.

리액트에서도 id를 달아도 되지만 해당 컴포넌트를 여러번 사용한다고 가정해보자. HTML에서 DOM id는 유일해야하는데, 이런 상황에서는 중복 id를 가진 DOM이 여러개 생기니 잘못 된 사용이다.
ref는 전역적으로 작동하지 않고 컴포넌트 내부에서만 작동하기 때문에 이런 문제가 생기지 않는다.

대부분은  id를 사용하지 않고도 원하는 기능을 구현할 수 있지만, 다른 라이브러리나 프레임워크와 함께 id를 사용해야 하는 상황이 발생할 수 있다. 이런 상황에서는 컴포넌트를 만들 때마다 id 뒷부분에 추가 텍스트를 붙여서 중복 id가 발생하는 것을 방지해야한다.

`DOM을 꼭 직접적으로 건드려야 할 때 ref를 사용한다.`

돔을 꼭 사용해야하는 상황은 언제일까?  간단하게 아래와 같다.

1. 특정 input 에 focus주기
2. 스크롤 박스 조작하기
3. canvas 요소에 그림그리기

이떄 어쩔수 없이 돔에 접근해야하는데, 이를 위해 바로 ref를 사용한다.

ref를 사용는 가장 기본적인 방법은 콜백함수를 사용하는 것이다. ref를 달고자하는 요소에 ref라는 콜백함수를 props로 전달해주면 된다. 이 콜백 함수는 ref값을 파라미터로 전달받는다. 그리고 함수 내부에서 파라미터로 받은 ref를 컴포넌트의 멤버변수로 설정해준다.

`<input ref={(ref)=> {this.input=ref}}/>`

이렇게 하면 this.input은 input요소의 DOM을 가리킨다. ref의 이름은 원하는것으로 자유롭게 지정할수있다. DOM타입과 관계없이 this.superman = ref 처럼 마음대로 정할수 있다.

ref를 만드는 또 다른 방법은 리액트에 내장되어있는 createRef라는 함수를 사용하는 것이다. 이 함수를 사용해서 만들면 더 적은 코드로 사용할 수 있다. 
```js

class RefSample extends Component {
    input =React.createRef();

    handleFocus = ()=> {
        this.input.current.focus();
    }

    render() {
        return (
            <div>
                <input ref={this.input}/>
            </div>
        )
    }
}

export default RefSample;
```

리액트에서는 컴포넌트에도 ref를 달 수 있다. 이 방법은 주로 컴포넌트 내부에 있는 DOM을 컴포넌트 외부에서 사용할 때 주로 쓴다. 컴포넌트에 ref를 다는 방법은 DOM에 ref를 다는 방법과 똑같다.

컴포넌트 내부에서 DOM에 직접 접근해야할 때는 ref를 사용한다. 먼저 ref를 사용하지 않고도 원하는 기능을 구현할 수 있는지 반드시 고려한후에 사용해야한다.

