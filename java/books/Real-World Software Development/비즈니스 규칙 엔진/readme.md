## 5.3 비즈니스 규칙 엔진 요구사항

프로그래머가 아닌사람도 자신의 워크플로에 비즈니스 로직을 추가하거나 바꿀수 있는 기능을 만들려한다. 

- 팩트: 규칙이 확인할 수 있는 정보
- 액션: 수행하려는 동작
- 조건: 액션을 언제 발생시킬지 지정
- 규칙: 실행하려는 비즈니스 규칙을 지정, 보통 팩트, 액션, 조건을 한그룹으로 묶어 규칙으로 만듦

비즈니스 규칙 엔진의 생산성과 관련된 좋은 점은 규칙이 기존의 응용프로그램과는 독립된 곳에서 실행 , 유지보수, 테스트할 수 있다는 점이다. 

## 5.4 TDD

tdd 철학으로 테스트 코드를 먼저 작성한후 이에 맞춰 코드를 구현하는 것이다. 즉 실제 코드를 구현하기 전에 테스트 코드를 먼저 구현한다. 

### 5.4.1 TDD 를 사용하는 이유

- 테스트를 따로 구현하므로 테스트에 대응하는 요구 사항을 한개씩 구현할 때마다 필요한 요구사항에 집중하고 개선할 수 있다.
- 코드를 올바르게 조직할 수 있다. 예를 들어 먼저 테스트를 구현하면서 코드에 어떤 공개 인터페이스를 만들어야하는지 신중하게 검토하게 된다. 
-  TDD주기에 따라 요구사항 구현을 반복하면서 종합적인 테스트 스위트를 완성할 수 있으므로 요구사항을 만족시켰다는 사실을 조금 더 확신할 수 있으며 버그 발생범위도 줄일 수 있다.
-  테스트를 통과하기 위한 코드를 구현하기 때문에 필요하지 않은 테스트를 구현하는 일(over-engineering)을 줄일 수 있다.

### 5.4.2 TDD 주기

1. 실패하는 테스트 구현
2. 모든 테스트 실행
3. 기능이 동작하도록 코드 구현
4. 모든 테스트 실행

## 5.5 모킹

모킹 라이브러리에 모키토를 이용한다. 간단하게 설명하면 다음과같은 방법으로 모킹을 사용.

1. 목 생성
2. 메서드가 호출 되었는지 확인