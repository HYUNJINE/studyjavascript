# 1장 컴퓨터 네트워크

네트워크의 흥미로운 점은 순식간에 이루어지는 통신과정이 중앙 집중 방식으로 관리되는 통신 설비에서 이루어지는 것이 아니라, 전 세계에 흩어진 독립적인 장비들의 조합으로 이루어진다는 점이다.
네트워크를 구성하는 장비나 그 장비에서 실행되는 프로그램은 단지 프로토콜이 정한 규칙에 따라 동작할 뿐이지만, 그 결과로 수천 킬로미터가 떨어진 곳에 있는 데이터를 수 초만에 가져올 수 있다.

컴퓨터 네트워크를 배운다는 것은 곧 인터넷에서 사용되는 TCP/IP기술을 배우는 것과 같다. 과거에는 다양한 네트워크 기술이 각각 독립적으로 존재했었지만, 오늘날에는 TCP/IP를 중심으로 통합되고 표준화 되었다.
컴퓨터 네트워크 안에는 다양한 프로그램과 데이터, 그리고 통신 장비가 한데 아우러져 동작하고 있다. 이러한 동작들은 각각의 역할에 따라 크게 애플리케이션 계층, 트랜스포트 계층, 인터넷 계층, 네트워크 인터페이스 계층으로 분류되고, 인접한 계층끼리 정보를 주고 받으면서 네트워크 통신을 한다.
컴퓨터 네트워크는 여러대의 컴퓨터를 서로 연결하여 서로 데이터를 주고 받을 수 있도록 망이 사전에 구축된 것을 말한다. 연결되는 컴퓨터의 대수가 많아질수록 네트워크의 규모는 커지고, 규모가 커진 만큼 더 다양한 정보를 교환하거나 통신 방식을 사용할 수 있게 된다.
여러 네트워크 중에서도 가장 규모가 큰 네트워크가 바로 인터넷이다.가정이나 기업들의 네트워크가 인터넷에 연결되면 서로 다른 네트워크에 속해 있더라도 인터넷을 통해 자유롭게 데이터를 주고받을 수 있다.
여러 네트워크 중에서도 휴대전화나 스마트폰을 연결하기 위해 무선 기술을 활용한 것을 무선 네트워크 혹은 모바일 네트워크라고 부른다. 전파는 눈에는 보이지 않지만 유선 케이블처럼 네트워크를 구성하는 중요한 매체중 하나이다.
서버와 클라이언트의 역할은 하드웨어의 성능으로 구분되는것이 아니라 어떤 역할의 프로그램을 설치하느냐에 따라 결정된다.

## P2P

네트워크에 연결된 두대의 컴퓨터가 클라이언트와 서버의 역할을 동시에 할 수 있어서 서로에게 서비스를 주거나 받을 수 있는 통신 방식을 피어 투 피어 (Peer to Peer) 방식이라고 한다.
주로 개인 컴퓨터간의 파일 공유나 인터넷 전화등에 사용한다.

## 패킷 교환 방식

컴퓨터 네트워크는 패킷 교환 방식을 이용하여 여러대의 컴퓨터와 혼선 없이 데이터를 주고 받을 수 있다.
컴퓨터 네트워크에서는 이메일이나 파일과 같은 데이터를 패킷이라는 작은 단위로 분할한 후 주고 받는다. 패킷은 자신이 어디로 전달되어야 하는지 알 수 있도록 어드레스 정보를 가지고 있다. 데이터를 패킷단위로 잘게 잘라서 네트워크에 흘려 보낸다. 패킷에는 송신지 어드레스 수신지 어드레스가 적혀있다. 패킷에 부여된 어드레스 정보를 하나하나 확인하면서 전달한다.
아날로그 방식의 유선전화나 3G방식의 휴대전화는 회선 교환 방식을 사용한다. 회선 교환 방식은 통신하려는 양측을 연결하기 위해 하나의 통신 경로를 점유한 후 통신하는 방식이라서 기본적으로 일대일 통신만 할 수 있다. 패킷 교환 방식은 주고받을 데이터를 작게 쪼갠후 다른 데이터의 조각들과 통신 경로를 공유하며 전송하는 방식이라서 여러 상대와 통신할 때 효과적이다.

## 컴퓨터 네트워크와 계층 모델

컴퓨터 네트워크는 여러개의 통신 계층이 조합된 형태로 구성된다.
컴퓨터 네트워크에서 다양한 통신 장비와 프로그램이 어울려 통신을 가능하게 한다. 이렇게 통신에 참여하는 여러 장비나 프로그램은 각각 맡은 역할이 있는데, 이 역할들을 이해하기 쉽게 분류하고 추상화한 것을 계층 모델이라고 한다. 4계층중 서비스의 내용을 담당하는 것은 애플리케이션 계층 뿐이다. 나머지 3개계층은 데이터를 전달하는 통신 기능을 담당한다.
어떤 작업을 할 때 전문영역을 나누어 분업하는 방식은 비단 컴퓨터 네트워크의 계층 모델만의 특징은 아니다. 각 계층은 고유한 역할을 가지고 독립된 형태로 각자 맡은 일을 수행하게 된다.
통신 과정에서 각 계층을 지나는 데이터는 패킷 단위로 쪼개지고 목적지 정보와 같은 부가 정보가 헤더의 형태로 덧붙여지게 된다. 데이터 앞에 덧붙이는 정보를 헤더(header)라고 하고 뒤에 붙는 정보를 트레일러(trailer)라고 한다.
수신지에서는 송신지의 같은 계층에서 덧붙인 정보를 확인한 후에 해당 계층이 해야 할 일을 처리한다.

## 4개 계층의 동작 방식

애플리케이션 계층의 역할은 사용자가 실제로 체감할 수 있는 서비스를 제공하는 곳이다. 예를 들어, 웹브라우저와 웹서버는 애플리케이션 계층에 속하는 프로그램이고, 이때 주고받은 데이터는 페이지를 요청하는 URL과 그 응답 결과로 전달되는 웹페이지 데이터이다. 애플리케이션 계층의 프로그램은 데이터의 내용을 보고 그에 맞는 서비스를 처리하는데 집중하고 데이터 전송에 대해서는 하위 계층에 위임한다.
트랜스포트 계층의 역할은 애플리케이션 계층의 프로그램에서 전달받은 데이터를 목적지 애플리케이션 계층의 프로그램까지 전달하는 것이다. 데이터가 제대로 전달되지 않았을 때 재 전송하는 것도 이 계층이 하는 일이다. 트랜스포트 계층은 목적지 컴퓨터의 프로그램에 데이터가 제대로 전달되도록 포트 번호 정보를 헤더에 붙이거나 떼어내는 일을 주로한다.
인터넷 계층의 역할은 데이터에 어드레스 정보를 덧붙여 목적지까지 무시히 전달하는 것이다. 인터넷 통신에서는 목적지 컴퓨터까지 도달할 수 있는 경로를 찾아야하는데, 이때 라우터라는 장비가 사용된다. 인터넷 통신을 할 때는 이어달리기를 하는 것처럼 데이터를 다음 네트워크로 전달하기 위해 라우터라는 장비를 사용한다.
네트워크 인터페이스 계층의 역할은 유선 LAN 어댑터나 무선 LAN 어댑터가 처리할 수 있는 형태로 데이터를 변환하고 이 데이터를 목적지까지 전달하는 것이다. 바로 위의 인터넷 계층이 멀리 떨어져 있는 목적지 까지 어떻게 하면 데이터를 잘 전달할 수 있을까에 초점을 맞추고 있는 반면, 네트워크 인터페이스 계층은 물리적으로 인접하여 연결된 연결된 장비까지 어떻게 하면 데이터를 잘 전달할까에 초점을 맞추고 있다.

## 통신 규약과 프로토콜

컴퓨터와 컴퓨터가 통신을 할때 지켜야하는 절차나 규약을 프로토콜이라고 한다.
컴퓨터끼리 통신을 하려면 어떤 절차에 따라 뭘보낼 것인가와 같은 규칙이 필요하다. 전송이 잘 되지않았을 때 어떻게 할 것인가와 같은 대안도 정리되어있다.
프로토콜은 통신 과정의 절차나 규칙이 기술된 사양서에 불과하다 그래서 프로토콜 자체는 프로그램처럼 통신 기능을 구현하고 있다거나 통신 장비처럼 눈에 보이는 물리적 형태가 있는 것은 아니다. 다만, 프로토콜에 맞게 동작하도록 만들어진 프로그램이나 통신장비, 그리고 데이터 포맷등이 존재하고, 이들이 서로 약속된 방식으로 잘 동작해 줄 때 원할한 통신이 가능해진다.
네트워크 프로토콜들은 소속된 계층에 맞게 그 역할이 전문화되고 세분화되어있다. 그래서 하나의 통신을 전체적으로 성공시키기 위해서는 이들 각 계층의 프로토콜을 잘 조합하여 사용해야한다.
TCP/IP는 하나의 프로토콜을 지칭하는 말이 아니라 인터넷에서 사용되는 각종 표준 프로토콜을 한데모아 일컫는 말이다. 흔히 TCP/IP라고 부르는 이유는 TCP와 IP가 이들 프로토콜중 가장 대표적인 프로토콜이기 때문이다. 각각의 개별 프로토콜을 일컫는 말이 아니라, 인터넷 프로토콜 집합의 의미로 굳이 구분해야 할 때는 TCP/IP 프로토콜 스위트라고 부르거나 인터넷 프로토콜 스위트라고 부르면 된다.

## 인터넷의 영향

인터넷은 TCP/IP라는 프로토콜 집합을 사용해서 전 세계의 네트워크들을 연결하고 통합한 세계 최대의 네트워크이다.
인터넷에 연결되는 각 네트워크에는 각각의 네트워크 관리자가 있지만, 인터넷 자체를 중앙에서 관리하는 곳은 존재하지 않는다. 인터넷은 원래 군사용 네트워크를 견고하게 만드는 과정에서 탄생했기 때문에 네트워크 중 일부가 파괴되더라도 인터넷 전체에는 영향이 없도록 설계되어있다. 인터넷의 영향을 받기전의 컴퓨터 네트워크에는 컴퓨터 OS별로 독자적인 네트워크 프로토콜이 있었다. 그래서 서로다른 OS를 사용하는 컴퓨터끼리는 프로토콜이 맞지않아서 통신할 수 없었다. 오늘날의 인터넷에서는 이메일 주소만 알면 누구나 메일을 주고 받을 수 있지만, 과거에 PC통신 서비스 형태로 네트워크를 사용할 때는 같은 PC통신 서비스에 가입한 사용자 끼리만 이메일을 주고 받을 수 있었다.
오늘날은 서로 다른 OS라도 공통된 프로토콜을 통해서 통신 할 수 있게 되었다.

## 프로토콜의 표준화

네트워크에 연결된 장비들이 서로 통신할 수 있으려면 동일한 프로토콜을 사용해야한다. 이렇게 프로토콜을 통일해서 사용하는 것은 네트워크에서 상당히 중요한 부분이라서 국제적인 표준 단체가 프로토콜 규격을 정하고 관리한다.
