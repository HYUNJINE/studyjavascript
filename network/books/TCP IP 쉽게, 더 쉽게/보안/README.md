# 보안

## 네트워크와 보완

네트워크를 사용할 때 발생할 수 있는 보안 위협에 대비하여 다양한 보안 기술이 만들어져 활용되고 있다.
네트워크에는 여러 컴퓨터를 연결하여 데이터를 자유롭게 주고 받을 수 있게 해주는 장점이 있는 반면, 악의적인 사용자로부터 데이터를 탈취당할 수 있는 잠재위협도 있다.
정보 유출에 대한 방어책으로 데이터 암호화가 있다. 암호화된 데이터는 제 3자에게 유출 되었다고하더라도 내용을 식별할 수 없다. 암호화를 할 때에는 열쇠 역할을 하는 키가 사용되는데, 키의 관리 방식에 따라 공유키 암호화와 공개 키 암호화 두가지 방식이 많이 활용된다.

## 공유키와 공개키

암호화는 데이터를 이해하기 어렵게 만드는 과정을 의미하고, 보안을 위해 할 수 있는 기본 기술중 하나다. 이때 단순히 암호화를 하여 읽기 어렵게 만드는 것으로 끝나는 것이 아니라 그 내용을 다시 원상태로 만들어 읽을 수 있어야 하는데, 그 과정을 복호화라고 한다. 암호화와 복호화를 아무나 하지 못하도록 하기 위해서 비밀번호같은 것을 사용하는데, 이것을 키라고한다. 공유 키 암호화 방식에서는 하나의 키를 사용해서 암호화도 하고 복호화도 한다.
공유키 암호화 방식은 처리 방식이 간단하고 암호화와 복호화를 하는 속도가 빠르다는 장점이있다. 키를 안전하게 공유하는 방법은 다소 어려울 수 있다. 예를 들어 키가 되는 패스워드를 이메일로 보낸다고 하자. 이 이메일이 유출되면 누구나 간단히 복호화를 할 수 있을 것이다. 그리고 암호화한 데이터를 공유할 모든 사람에게 같은 키를 나눠줘야하는 것이 관리 측면에서 적지 않은 부담이 될 수 있다.
공개 키 암호화 방식은 암호화를 하는 키와 복호화를 하는 키를 각각 만들어 한 세트로 관리하는 방식이다. 한쪽 키로 암호화한 것은 다른 한 키로만 복호화 할 수 있는데 두개의 키중 하나는 자신이 가지고 다른하나는 통신 상대에게 나눠주게 된다. 이때 자신이 가지는 키를 비밀키 혹은 개인키라고 하고 다른사람에게 공개하는 키를 공개키라고 한다. 공개키 암호로 데이터를 주고 받을 경우, 먼저 상대에게 자신의 공개키를 사전에 전달한다. 이후 상대는 데이터를 보내고 싶을 때 미리 받은 공개키로 데이터를 암호화하여 보내게 되는데 이데이터를 받은 쪽은 자신의 개인 키로 데이터를 복호화할 수 있다.

## 전자 증명서와 전자 서명

전자 인증서는 신분 사칭을 막을 때 사용하고, 전자 서명은 데이터 위변조를 막을 때 사용한다. 이 두가지 기술은 서로 상호 보완적으로 밀접한 관계를 맺고 있다. 공개 키 암호화 방식을 사용하면 데이터 유출을 막을 수 있지만, 공개키를 보낸 사람이 엉뚱한 사람이라면 누군지도 모르는 사람에게 데이터를 넘겨 줄 수 있는 잠재 위험이 있다. 그래서 인터넷에서 데이터를 주고 받을 때는 본인이 자기 자신임을 증명할 수 있는 수단이 필요하다. 신분 사칭이나 메일 내용의 위변조를 막는 방법으로 인증기관이 발행한 전자인증서를 사용할 수 있다. 전자인증서는 인증 기관에 요청하여 받을 수 있는데 발급받은 전자 인증서 안에는 공개 키와 인증 기관의 전자 서명이 포함되어있다. 이 전자 서명은 인증 기관이 이 공개키는 이 소유자의 것이다라는 것을 보증하는 역할을 한다. 그래서 이 인증서를 가진 사람은 증명서에 포함된 공개 키를 사용해서 복호화를 할 수 있게 된다.
공개 키나 전자 인증서등의 보안 인프라를 통틀어서 공개키 기반 구조(PKI, public key infrastructure)라고 한다. 주의할 것은 공개 키 기반 구조가 보안취약점의 많은 부분을 제거해 주기는 하나, 피싱 사이트로 인한 금융 사기나 컴퓨터 바이러스로 인한 보안 위협 등에 대해서는 대응 가능한 영역이 아니기 때문에 막을 수 없다는 것이다.
전자 서명은 데이터 내용이 위변조되지 않았다는 것과 누가 보낸 것인지를 보증하는 역할을 한다. 전자 인증서에도 인증 기관의 전자 서명이 포함되어 있는데, 사용자가 어떤 데이터를 보낼때 위변조 되지 않았음을 증명할 때 사용할 수도 있다. 전자 서명을 만들기 위해서는 원본데이터의 해시 값을 구한후 이것을 공개키가 아닌 개인키로 암호화한다.
개인키로 암호화한 데이터는 공개키로 복호화 할 수 있다. 전자 증명서에 포함되는 공개키로 전자서명을 복원한 후 메시지 다이제스트가 일치하는지 확인하여 위변조 되지 않았다는 것을 증명할 수 있다.
이메일을 안전하게 주고 받는 방법은 S/MIME(secure/multipurpose internet mail extensions)이라는 규격으로 표준화되어있다. 이메일을 주고받는 프로그램이 S/MIME을 지원하고 통신 쌍방이 전자인증서를 가지고 있는 경우에 사용할 수 있다. S/MIME에서 데이터 위변조와 신분 사칭을 막는 방법은 전 내용과 같다. 이메일을 암복호화 할 때는 공개키 방식과 공유키 방식을 둘다 조합해서 활용한다.

## SSL/TLS

SSL혹은 TLS는 서버 인증서를 사용해서 서버와 클라이언트 간의 통신을 암호화한다.
SSL(Secure Sockets Layer)혹은 TLS(Transport Layer Security)는 서버와 클라이언트 사이의 통신 구간에 대해서 보안 수준을 높이기 위한 프로토콜이다. 인증 기관에서 발행된 서버 인증서를 사용해서 서버를 증명하고, 통신 구간을 암호화하며, 데이터의 위변조를 막는다.

## SSH

SSH는 원격지의 컴퓨터를 안전하게 제어하기 위한 프로토콜이다.
SSH(Secure Shell)는 원격지에 있는 서버를 제어하기위해 만들어진 telnet을 대체하는 프로토콜이다. SSL과 마찬가지로 공개키와 공유키를 조합한 방식으로 통신을 암호화한다. 전자 인증서는 사용하지 않는 대신 서버나 클라이언트가 만든 공개키를 사용한다. 인증방식으로는 패스워드 인증이나 공개키 인증등을 사용할 수 있다.
패스워드 인증 방식에서는 서버측의 공개 키를 사용했지만, 공개키인증방식에서는 클라이언트측에서 공개키를 만든 후에 그 키를 미리 접속할 서버에 등록해 두어 인증에 사용한다. 사전에 공개 키를 등록해야하는 번거로움이 있지만, 이후부터는 원격 접속을 할때마다 패스워드를 입력하지 않아도된다.

## 방화벽

방화벽은 오래전부터 사용되어온 기본적인 보안 기술중 하나이다.
네트워크에 연결된 서버는 외부에서의 접속을 허용해야 할 경우도 있지만, 해킹과 같은 악의적인 접근을 차단해야할 필요도 있다. 이렇게 외부로부터 접근을 차단할 때 사용하는 것이 방화벽이다. 방화벽은 허가된 통신외에는 모두 차단하기 때문에 허용된 범위 내에서만 주의하고 잘 관리하면 서버를 보다 안전하게 지켜낼 수 있다.
방화벽은 접속을 허가하거나 차단하기 위해 패킷 내의 정보를 확인한다. 이렇게 방화벽이 접근을 제어하는 방법은 패킷 정보를 점검하는 계층에 따라 달라진다.

## 무선 LAN의 보안

전파로 통신하는 무선 LAN에서는 도청을 막기 위한 보안 관련 사양이 규격으로 정해져 있다.
무선 LAN통신은 안전해야 하면서도 동시에 고속으로 처리되어야한다. 그래서 암복호를 할 때 연산 처리 부담이 큰 공개키 방식은 사용하지 않고 대신 공유 키 방식을 사용한다. WPA이전에는 공유 키 방식의 하나인 스트립 암호화 방식이 사용되었는데, WPA2에서는 더 강력한 블록 암호화 방식을 사용하고 있다.
무선 LAN의 보안 기능에서는 패스프레이즈라고 부르는 사용자가 지정한 문자열과 , 초기화 벡터라고 부르는 조금씩 변화하는 값을 조합하여 암호화를 위한 공유키를 만든다. 초기화 벡터가 바뀌면서 공유키도 따라 바뀌기 때문에 암호화는 간단하고 처리 속도가 빠른 반면에 복호화는 어렵게 만들어져있다.

## VPN

VPN을 사용하면 공중망에 연결된 원격지의 컴퓨터를 사설망에 연결된 것처럼 안전하게 사용할 수 있는 가상의 LAN환경을 만들 수 있다.
VPN에 사용되는 프로토콜에는 IPSec(Security Architecture for internet protocol)이나 PPTP(Point to Point Tunneling protocol) 등이 있다.
