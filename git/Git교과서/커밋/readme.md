## 4.1 코드의 변화

깃은 개발중인 코드의 이력을 만들 수 있다. 깃이 코드 변화를 기록하는 것을 커밋이라고한다.

commit 은 뜻이 여러개인데, 유사한 의미로는 '~를 적어주다' 즉 커밋은 의미있는 변경 작업들을 저장소에 기록하는 동작이다.

일반적으로 새로운 기능을 추가하는 코드를 삽입한다. 또 버그를 수정하려고 많은 코드를 이동하거나 대체하는데 이러한 코드 수정은 개발 목적을 달성하는 작업들이다.

깃은 코드의 변경 이력과 시점을 커밋으로 기록한다.

### 4.1.1 파일 관리 방법

깃이 없던 시절에는 파일을 복사해서 관리했으므로 모든 내용이 중복되고 용량도 많이차지한다. 반면 깃의 커밋은 새로 변경된 부분만 추출하여 저장한다. 그것도 파일 이름을 변경하지 않고도 동일한 파일 이름으로 하나로 관리가 가능하다. 즉 시간에 따라 변화하는 내용만 관리하고, 코드가 변화된시간 순서에 따라서 영구적으로 저장한다. 이를 커밋이라고 한다. 

개발자 입장에서는 복잡한 구조의 파일을 관리하지 않아도 되고 여러개의 파일보다는 파일 하나로 모든 이력을 처리하기 때문에 유용하다. 커밋은 부모 커밋은 부모 커밋을 기반으로 변화된 부분만 새로운 커밋으로 생성한다. 그리고 커밋은 파일의 시간적 변화도 함께 저장한다. 


워킹 디레터리에 새로 추가된 untracked 상태의 파일을 추적 가능 상태로 변경하는 것을 등록이라고 한다. 또 파일을 등로갛면 워킹 디렉터리의 파일이 스테이지 영역에 추가된다.

스테이지 영역의 관리목록에 추가된 파일만 깃에서 이력을 추적할 수 있다.

워킹 디렉터리는 작업을 위한 일종의 샌드박스(서로 분리되어있는 영역)와 같다.

깃에서 등록이란 워킹디렉터리에 있는 파일을 스테이지 영역으로 복사하는 것을 의미한다. 여기서 복사는 실제 파일 복사하는 것을 의미하지는 않는다. 깃 내부에서 논리적인 기록을 변경하는 과정일 뿐이다. 복사라고 표현한 것은 이해하기 쉽게 풀어쓴 것이다. 



워킹 디렉터리에 추가된 모든 파일을 커밋할 때는 반드시 이과정을 거친다. 그래야 깃에 버전 이력을 관리 할 수 있다. 스테이지에 등록되지 않은 unstage 상태의 파일들은 커밋할 수 없다. 

파일 이름 대신 . 을 이용하면 전체 파일과 폴더를 모두 등록할 수 있다. 점은 리눅스와 같은 운영체제에서 현재 디렉터리를 의미하는 기호이다. 

워킹 디렉터리에 생성된 모든 파일을 스테이지 영역에 추가할 필요는 없다 필요한 파일만 스테이지 영역에 등록하여 이력을 추적한다. 스테이지 영역에 등록하지 않은 파일은 커밋작업에 포함되지 않는다.빈 폴더는 스테이지 영역에 등록할 수 없다. 폴더안에 파일이 하나이상 있어야 등록가능하다.


### 4.3.3 파일 등록 취소 

이번에는  tracked 상태를 untracked 상태로 변경해보자. 스테이지에 등록하는 것과 반대 과정이다. unstage 상태로 변경하려면 rm 또는 reset 명령어를 사용한다. 

`git rm --cached index.html`

스테이지의 캐시된 목록에서 파일이 삭제된다. 확인하려면 git status

파일을 등록한 후 커밋하지 않고 바로 삭제하려면 rm --cached 명령어를 사용하낟. 하지만 한번이라도 커밋을 했다면 reset명령어를 새용해야한다. 커밋후에rm 으로 삭제하면 삭제또는 변화된 것으로 간주한다. 따라서 커밋된 파일은 리셋으로 삭제한후 정리해 주어야한다. 
