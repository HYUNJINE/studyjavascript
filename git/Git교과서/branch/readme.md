## 6.1 새로운 작업

브랜치는 나뭇가지 지사 분점등 줄기 하나에서 뻗어 나온 갈림길을 의미한다. 큰 나무 줄기에서 작은 줄기가 뻗어나오는 것처럼 저장공간 하나에서 가상의 또 다른 저장공간을 만드는 것이라고 생각하면된다.

### 6.1.1 브랜치 작업

커밋은 파일의 수정이력을 관리하는데 사용한다면, 브랜치는 프로젝트를 독립적으로 관리하는데 사용한다. 

개발자는 항상 안정된 코드 상태를 유지하고, 개발 중인 작업과 구분하여 관리해야한다.

잦은 버그 수정과 새로운 기능을 구현할 때마다 작업 폴더를 복사하는 것은 프로젝트를 유지 관리 하는 측면에서 좋지 않다.

### 6.1.2 깃 브랜치 특징

깃 브랜치는 기존 폴더를 복제하는 것과 다르게 가상 폴더를 사용하여 개발 작업을 구분한다. 

> 가상폴더

깃의 브랜치는 작업 폴더를 실제로 복사하지 않고 가상폴더로 생각한다. 외부적으로는 물리적인 파일 하나만 있는 것으로 보인다. 생성된 작업폴더는 물리적으로 복제된 구조보다 유연하게 처리할 수 있다. 브랜치로 생성된 가상 폴더는 빠르게 공간이동이 가능하다.

> 독립적인 동작

브랜치를 이용하면 원본 폴더와 분리하여 독립적으로 개발 작업을 수행할 수 있다. 기존에는 소스 코드의 작업 폴더를 별도로 생성했다. 물리적으로 복사된 각자의 폴더에서 코드를 작업한 후 소스코드 2개를 다시 합쳐야했다. 코드를 하나로 합치려면 작업내역들을 일일이 찾아 정리해야한다. 

하지만 깃과 같은 버전관리 시스템을 이용하면 분리된 코드를 좀더 쉽게 병합할 수 있다. 분리된 브랜치에서 소스코드를 각자 수정한 후 원본코드에 병합하는 명령만 실행하면 된다. 깃의 브랜치는 규모가 큰 코드 수정이나 병합을 처리할 때 매우 유용하다.


> 빠른 동작

다양한 버전 관리 도구도 브랜치 기능을 지원한다. 깃의 브랜치 기능은 다른 버전 관리 도구보다 가볍고 브랜치 전환이 빠른 것이 특징이다. 깃은 Blob개념을 도입하여 내부를 구조화한다. Blob는 포인트와 유사한 객체이다. 깃은 브랜치를 변경할 때 포인터를 이동하여 빠르게 전환한다. 브랜치 명령을 사용하면 내부적으로 커밋을 하나 생성하여 브랜치로 할당한다. 다른 버전 관리 시스템은 폴더의 파일 전체를 복사하는 반면 깃은 41바이트를 가지는 해시파일하나만 만들면 된다. 


## 6.3 브랜치 생성

브랜치는 가상의 작업폴더이다.처음 깃을 초기화할 때 워킹 디렉터리는 master 브랜치를 생성한다. 브랜치를 생성하려면 기준이 되는 브랜치 또는 커밋이 하나 있어야한다.
브랜치는 공통된 커밋을 가리키는 지점이다. 브랜치는 커밋처럼 SHA1해시키를 가리킨다. 하지만 커밋의 해시키는 기억하기 어렵기 때문에 특정 커밋을 가리키는 별칭을 만드는 것이다. 이렇게 만든 별칭이 브랜치이다. 즉 브랜치를 생성한다는 의미는 기존 브랜치 또는 커밋에 새로운 연결고리를 하나 더 만드는 것과 같다. 새 브린치를 생성하면 포인터만 있는 브랜치가 생성된다. 일반적으로 브랜치 생성 명령을 실행하려면 현재 커밋을 가리키는 HEAD를 기준으로 생성된다. HEAD는 현재마지막 커밋을 가리킨다. 브랜치는 마지막 커밋 위치를 가리키는 역할만 할 뿐 실제 브랜치는 아니다. 실제 브랜치는 커밋이 추가될 때 만든다.


### 6.3.1 브랜치 생성

브랜치는 깃에서 또하나의 개발 분기점을 의미한다. 새로분 개발 분기점이 필요할 대는 브랜치를 추가로 생성할 수 있다. 브랜치 생성 개수에는 제한이없다. 필요한 만틈 여러 브랜치를 생성할 수 있으며 각 브랜치를 구분하려면 브랜치별로 이름을 지정해야한다.


`git branch 브랜치이름 커밋id`

branch 이름만 입력하면 현재 head 포인터를 기준으로 새로운 브랜치를 생성한다. 직접  커밋 ID인자값을 지정하면 지정한 커밋  ID를 기준으로 브랜치를 생성한다.


### 6.3.2 브랜치 이름

- 기호로 시작할 수 없다.
- 마침표로 시작할 수 없다
- 연속적인 마침표를 포함할 수 없다
- 빈칸 공백문자 물결 캐럿 물음표 별표 대괄호등을 포함할 수 없다.
- 아스키 제어 문자는 포함할 수 없다.

브랜치이름은 중복해서 사용하지 않아야한다.

소스트리에서 커밋을 선택하여 브랜치를 생성하는 것은 지정한 커밋을 기준으로 브랜치를 생성한다는 의미이다. 커밋 목록에서 브랜치를 생성하면 명시된 커밋 부분에 브랜치가 체크되어있는 것을 볼 수 있다.

